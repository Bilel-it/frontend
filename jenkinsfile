pipeline {
    agent any

 
stages {
  
   
            
            stage('BUILD Image Frontend') {
            steps{
                checkout scm                
                

                echo "#################### Build Image Frontend  #################"
                sh '''  
                        docker build -t frontend:1.1-4 .
                       
                '''


                echo "#################### Tag & Push Image ms-frontend to azurecr.io #################"
                sh '''  
                        
                        docker tag frontend:1.1-4 frontend:1.1-4

                '''


            }
        }

        stage('Connect Repo Frontend') {
                       
             steps{   

                echo "#################### Push Image Frontend  #################"
                sh '''  
                        docker login -u bilelm1 -p bilel737189
                       
                '''
             }
                 
            }

        stage('Push Image Frontend') {
                       
              steps{  

                echo "#################### Push Image Frontend  #################"
               

                 sh '''  
                        docker push bilelm1/frontend/frontend:1.1-4
                       
                '''

              }
            }
        }
}
            
            
            
        